{
  "hash": "26a3233f5726b74b360d6cab387ce610",
  "result": {
    "markdown": "---\ntitle: \"Graphic Design with ggplot2\"\nsubtitle: \"<span style='font-size:1.75em;line-height:1.1;'>Concepts of the <code>{ggplot2}</code> Package Pt. 1:<br><span style='font-weight:500;'>Data, Aesthetics, and Layers + <span class='circle-highlight'>Misc Stuff</span></span></span>\"\nauthor: \"<b style='color:#28a87d;'>Cédric Scherer</b> **//** rstudio::conf **//** July 2022\"\nformat:\n  revealjs:\n    theme: css/style.scss\n    footer: '**[Cédric Scherer](https::/cedricscherer.com) //** rstudio::conf **//** July 2022'\n    #'rstudio::conf(workshop = \"Graphic Design with ggplot2\", instructor = \"Cédric Scherer\")'\n    transition: fade\n    progress: true\n    multiplex: false\n    preview-links: true\n    scrollable: false\n    hide-inactive-cursor: true\n    highlight-style: printing\n    chalkboard:\n      theme: whiteboard\n      boardmarker-width: 4\n      buttons: true\n    pause: true\n    mainfont: Cabinet Grotesk\neditor: source\nknitr:\n  opts_chunk:\n    dev: \"ragg_png\"\n    retina: 1\n    dpi: 300\nexecute:\n  freeze: auto\n  cache: true\n  echo: true\n  fig-width: 5\n  fig-height: 6\n---\n\n\n# Setup\n\n##  {background-image=\"img/concepts/tidyverse-packages.png\" background-position=\"center\" background-size=\"100%\"}\n\n::: footer\n:::\n\n##  {background-image=\"img/concepts/tidyverse-packages-ggplot.png\" background-position=\"center\" background-size=\"100%\"}\n\n::: footer\n:::\n\n## The ggplot2 Package\n\n<br>\n\n... is an **R package to visualize data** created by Hadley Wickham in 2005\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-package-install-2_5aa3307e58cc60949ab78d2befcbc6ad'}\n\n```{.r .cell-code}\n# install.packages(\"ggplot2\")\nlibrary(ggplot2)\n```\n:::\n\n\n<br>\n\n::: fragment\n... is part of the [`{tidyverse}`](https://www.tidyverse.org/)\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/tidyverse-package-install-2_0ba2923548e7c5434042ef1e52bcdb39'}\n\n```{.r .cell-code}\n# install.packages(\"tidyverse\")\nlibrary(tidyverse)\n```\n:::\n\n:::\n\n# The Grammar of {ggplot2}\n\n\n\n## The Grammar of {ggplot2}\n\n<br>\n<table style='width:100%;font-size:14pt;'>\n  <tr>\n    <th>Component</th>\n    <th>Function</th>\n    <th>Explanation</th>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Data</b></td>\n    <td><code>ggplot(data)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\n    <td>*The raw data that you want to visualise.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Aesthetics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></td>\n    <td><code>aes()</code></td>\n    <td>*Aesthetic mappings between variables and visual properties..*</td>\n  <tr>\n    <td><b style='color:#67676;'>Geometries</b></td>\n    <td><code>geom_*()</code></td>\n    <td>*The geometric shapes representing the data.*</td>\n  </tr>\n</table>\n\n\n\n## The Grammar of {ggplot2}\n\n\n<br>\n<table style='width:100%;font-size:14pt;'>\n  <tr>\n    <th>Component</th>\n    <th>Function</th>\n    <th>Explanation</th>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Data</b></td>\n    <td><code>ggplot(data)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\n    <td>*The raw data that you want to visualise.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Aesthetics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></td>\n    <td><code>aes()</code></td>\n    <td>*Aesthetic mappings between variables and visual properties..*</td>\n  <tr>\n    <td><b style='color:#67676;'>Geometries</b></td>\n    <td><code>geom_*()</code></td>\n    <td>*The geometric shapes representing the data.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Statistics</b></td>\n    <td><code>stat_*()</code></td>\n    <td>*The statistical transformations applied to the data.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Scales</b></td>\n    <td><code>scale_*()</code></td>\n    <td>*Maps between the data and the aesthetic dimensions.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Coordinate System</b></td>\n    <td><code>coord_*()</code></td>\n    <td>*Maps data into the plane of the data rectangle.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Facets</b></td>\n    <td><code>facet_*()</code></td>\n    <td>*The arrangement of the data into a grid of plots.*</td>\n  </tr>\n  <tr>\n    <td><b style='color:#67676;'>Visual Themes</b></td>\n    <td><code>theme()</code> and <code>theme_*()</code></td>\n    <td>*The overall visual defaults of a plot.*</td>\n  </tr>\n</table>\n\n\n\n# A Basic ggplot Example\n\n## The Data\n\n<b style='font-size:2.3rem;'>Bike sharing counts in London, UK, powered by [TfL Open Data](https://tfl.gov.uk/modes/cycling/santander-cycles)</b>\n\n::: incremental\n-   covers the years 2015 and 2016\n-   incl. weather data acquired from [freemeteo.com](https://freemeteo.com)\n-   prepared by Hristo Mavrodiev for [Kaggle](https://www.kaggle.com/hmavrodiev/london-bike-sharing-dataset)\n-   further modification by myself\n:::\n\n<br>\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/data-import_0b125c0b012400614da64690b2893d90'}\n\n```{.r .cell-code}\nbikes <- readr::read_csv(\n  here::here(\"data\", \"london-bikes-custom.csv\"),\n  ## or: \"https://raw.githubusercontent.com/z3tt/graphic-design-ggplot2/main/data/london-bikes-custom.csv\"\n  col_types = \"Dcfffilllddddc\"\n)\n\nbikes$season <- forcats::fct_inorder(bikes$season)\n```\n:::\n\n:::\n\n------------------------------------------------------------------------\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/data-table_9aa9675d75cd19a4f6ca921649b6b326'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table lightable-minimal lightable-hover\" style=\"font-size: 24px; margin-left: auto; margin-right: auto; font-family: Cabinet Grotesk; \">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Variable </th>\n   <th style=\"text-align:left;\"> Description </th>\n   <th style=\"text-align:left;\"> Class </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> date </td>\n   <td style=\"text-align:left;\"> Date encoded as `YYYY-MM-DD` </td>\n   <td style=\"text-align:left;\"> date </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day_night </td>\n   <td style=\"text-align:left;\"> `day` (6:00am–5:59pm) or `night` (6:00pm–5:59am) </td>\n   <td style=\"text-align:left;\"> character </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> year </td>\n   <td style=\"text-align:left;\"> `2015` or `2016` </td>\n   <td style=\"text-align:left;\"> factor </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> month </td>\n   <td style=\"text-align:left;\"> `1` (January) to `12` (December) </td>\n   <td style=\"text-align:left;\"> factor </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> season </td>\n   <td style=\"text-align:left;\"> `winter`, `spring`, `summer`, or `autumn` </td>\n   <td style=\"text-align:left;\"> factor </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> count </td>\n   <td style=\"text-align:left;\"> Sum of reported bikes rented </td>\n   <td style=\"text-align:left;\"> integer </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> is_workday </td>\n   <td style=\"text-align:left;\"> `TRUE` being Monday to Friday and no bank holiday </td>\n   <td style=\"text-align:left;\"> logical </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> is_weekend </td>\n   <td style=\"text-align:left;\"> `TRUE` being Saturday or Sunday </td>\n   <td style=\"text-align:left;\"> logical </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> is_holiday </td>\n   <td style=\"text-align:left;\"> `TRUE` being a bank holiday in the UK </td>\n   <td style=\"text-align:left;\"> logical </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> temp </td>\n   <td style=\"text-align:left;\"> Average air temperature (°C) </td>\n   <td style=\"text-align:left;\"> double </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> temp_feel </td>\n   <td style=\"text-align:left;\"> Average feels like temperature (°C) </td>\n   <td style=\"text-align:left;\"> double </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> humidity </td>\n   <td style=\"text-align:left;\"> Average air humidity (%) </td>\n   <td style=\"text-align:left;\"> double </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> wind_speed </td>\n   <td style=\"text-align:left;\"> Average wind speed (km/h) </td>\n   <td style=\"text-align:left;\"> double </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather_type </td>\n   <td style=\"text-align:left;\"> Most common weather type </td>\n   <td style=\"text-align:left;\"> character </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## `ggplot2::ggplot()`\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-function_bbfe288caa43a5cb91c8b44da89f224e'}\n\n:::\n\n\n![](img/concepts/ggplot-fun-help.png){fig-alt=\"The help page of the ggplot() function.\" fig-width=\"175%\"}\n\n## Data\n\n\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-data_4e7fda731ae3ff8b96cd9dfda994dc02'}\n\n```{.r .cell-code}\nggplot(data = bikes)\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-data-1.png){width=1500}\n:::\n:::\n\n\n## Aesthetic Mapping\n\n<br>\n\n<b class='simple-highlight-grn' style='font-size:2.6rem;'>= link variables to graphical properties</b><br><br>\n\n::: incremental\n-   positions (`x`, `y`)\n-   colors (`color`, `fill`)\n-   shapes (`shape`, `linetype`)\n-   size (`size`)\n-   transparency (`alpha`)\n-   groupings (`group`)\n:::\n\n## Aesthetic Mapping\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-aesthetics-outside_60dd64f3e55ef91482bf56cb208f03e9'}\n\n```{.r .cell-code  code-line-numbers=\"2|1,2\"}\nggplot(data = bikes) +\n  aes(x = temp_feel, y = count)\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-aesthetics-outside-1.png){width=1500}\n:::\n:::\n\n\n## `aes`thetics\n\n`aes()` outside as component\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-aesthetics-outside-comp_b5f4f8af2c0b315ea08362428fe536a1'}\n\n```{.r .cell-code}\nggplot(data = bikes) +\n  aes(x = temp_feel, y = count)\n```\n:::\n\n\n<br>\n\n::: fragment\n`aes()` inside, explicit matching\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-aesthetics-inside_a3d9988efe1debf7309452a3ff181801'}\n\n```{.r .cell-code}\nggplot(data = bikes, mapping = aes(x = temp_feel, y = count))\n```\n:::\n\n\n<br>\n:::\n\n::: fragment\n`aes()` inside, implicit matching\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-aesthetics-inside-implicit_918c7772a748171b473694944b42a467'}\n\n```{.r .cell-code}\nggplot(bikes, aes(temp_feel, count))\n```\n:::\n\n\n<br>\n:::\n\n::: fragment\n`aes()` inside, mixed matching\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-aesthetics-inside-mix_3c390da4ff33aa34813be6fea2edcd01'}\n\n```{.r .cell-code}\nggplot(bikes, aes(x = temp_feel, y = count))\n```\n:::\n\n:::\n\n# Geometrical Layers\n\n## Geometries\n\n<br>\n\n<b class='simple-highlight-grn' style='font-size:2.6rem;'>= interpret aesthetics as graphical representations</b><br><br>\n\n::: incremental\n-   points\n-   lines\n-   polygons\n-   text labels\n-   ...\n:::\n\n## Geometries\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point_72a76de6fd42ab92db3ebc83414daa30'}\n\n```{.r .cell-code  code-line-numbers=\"1,2,3,4|5\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-1.png){width=1500}\n:::\n:::\n\n\n## Visual Properties of Layers\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-properties_bf81fb88c2ddf293fd0d5b008babceaa'}\n\n```{.r .cell-code  code-line-numbers=\"5,6,7,8,9,10,11|6,7,8,9,10\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    color = \"#28a87d\",\n    alpha = .5,\n    shape = \"X\",\n    stroke = 1,\n    size = 4\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-properties-1.png){width=1500}\n:::\n:::\n\n\n## Setting vs Mapping of Visual Properties\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-point-properties-set_f3aa4af1521e72744c72c51618685153'}\n\n```{.r .cell-code  code-line-numbers=\"6,7\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    color = \"#28a87d\",\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-properties-set-1.png){width=1500}\n:::\n:::\n\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-point-properties-map_b0274a7c003a5ed34d03c6468b5ef456'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    aes(color = season),\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-properties-map-1.png){width=1500}\n:::\n:::\n\n:::\n:::\n\n## Mapping Expressions\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression_c1f5da34d23b10fb9916af7e24ce646c'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    aes(color = temp_feel > 20),\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-1.png){width=1500}\n:::\n:::\n\n\n## Your Turn!\n\n::: question\n-   **Create a scatter plot of `temp_feel` vs `temp`.**\n    -   Map the color of the points to clear weather.\n    -   Map the size of the points to count.\n    -   Turn the points into diamonds.\n    -   [Bonus: What do you notice in the legend? How could you fix it?]{style=\"color:#5DB699;\"}\n:::\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/countdown-exercise-aes_5659c74efae6248d7c6e5768054fee5f'}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_62f3ac52\" style=\"right:0;bottom:0;font-size:.5em;\" data-warnwhen=\"0\">\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Mapping Expressions\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise_03f89059e4f726b5e23ec539d220bcf3'}\n\n```{.r .cell-code  code-line-numbers=\"3|6\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\"),\n    alpha = .5,\n    size = 2\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-1.png){width=1500}\n:::\n:::\n\n\n## Mapping to Size\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-size-exercise_adcce289fda228ea0918f2d74867896c'}\n\n```{.r .cell-code  code-line-numbers=\"7\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-size-exercise-1.png){width=1500}\n:::\n:::\n\n\n## Setting a Constant Property\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-shape_a23b967e1fd63477d8889e7073291b24'}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 18,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-shape-1.png){width=1500}\n:::\n:::\n\n\n## Setting a Constant Property\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-shape-2_d3f96e279da49778e8add0e12eaf9e5a'}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 5,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-shape-2-1.png){width=1500}\n:::\n:::\n\n\n## Setting a Constant Property\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-shape-3_d18a8f9836571968e37088e6fe03b0c3'}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 9,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-shape-3-1.png){width=1500}\n:::\n:::\n\n\n## Setting a Constant Property\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-shape-4_306b89c2a800fec31f962b1cbc14faf2'}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 23,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-shape-4-1.png){width=1500}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n![Source: [Albert's Blog](https://blog.albertkuo.me/post/point-shape-options-in-ggplot/)](img/concepts/shapes-type.png){fig-alt=\"An overview of a set of available shapes, ordered by their type of shape (e.g. points, triangles etc).\" fig-width=\"150%\"}\n\n## Setting a Constant Property\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-shape-4-fill_ffc9f7e41e08aba28330138a11d6707d'}\n\n```{.r .cell-code  code-line-numbers=\"6,8,9\"}\nggplot(\n    bikes,\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(fill = weather_type == \"clear\",\n        size = count),\n    shape = 23,\n    color = \"black\",\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-shape-4-fill-1.png){width=1500}\n:::\n:::\n\n\n## Filter Data\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-na_f0f1c83fb3662a752acc624279ff5421'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(\n    filter(bikes, !is.na(weather_type)),\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 18,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-na-1.png){width=1500}\n:::\n:::\n\n\n## Filter Data\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-point-aes-expression-exercise-na-pipe_21188348706af001250b5cf10e21d8c6'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(\n    bikes %>% filter(!is.na(weather_type)),\n    aes(x = temp, y = temp_feel)\n  ) +\n  geom_point(\n    aes(color = weather_type == \"clear\",\n        size = count),\n    shape = 18,\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-expression-exercise-na-pipe-1.png){width=1500}\n:::\n:::\n\n\n\n\n## Local vs. Global Encoding\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-point-aes-geom_31bb37d0288bd7c1beba2a67b166a0ac'}\n\n```{.r .cell-code  code-line-numbers=\"3,6\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    aes(color = season),\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-geom-1.png){width=1500}\n:::\n:::\n\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-point-aes-global_0ecdbefffdf058b1af3cbe3f0ae1f938'}\n\n```{.r .cell-code  code-line-numbers=\"3,4\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season)\n  ) +\n  geom_point(\n    alpha = .5\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-point-aes-global-1.png){width=1500}\n:::\n:::\n\n:::\n:::\n\n## Adding More Layers\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth_cfdb2502a151ab6945c2e9f5cf2d9d0a'}\n\n```{.r .cell-code  code-line-numbers=\"9,10,11\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season)\n  ) +\n  geom_point(\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-1.png){width=1500}\n:::\n:::\n\n\n## Global Color Encoding\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth-aes-global_146d659433aecef80c3b3c215d799d06'}\n\n```{.r .cell-code  code-line-numbers=\"3,4,9,10,11\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season)\n  ) +\n  geom_point(\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-aes-global-1.png){width=1500}\n:::\n:::\n\n\n## Local Color Encoding\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth-aes-fixed_b8adaa688ff62f1991da0609ecf14a2e'}\n\n```{.r .cell-code  code-line-numbers=\"6,9,10,11\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    aes(color = season),\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-aes-fixed-1.png){width=1500}\n:::\n:::\n\n\n## The \\`group\\` Aesthetic\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth-aes-grouped_b408d6ded4e3f6b1f5b79d9eef8002f5'}\n\n```{.r .cell-code  code-line-numbers=\"10\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count)\n  ) +\n  geom_point(\n    aes(color = season),\n    alpha = .5\n  ) +\n  geom_smooth(\n    aes(group = day_night),\n    method = \"lm\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-aes-grouped-1.png){width=1500}\n:::\n:::\n\n\n## Set Both as Global Aesthetics\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth-aes-global-grouped_900a838ed3d312bcbdf2bed99189b738'}\n\n```{.r .cell-code  code-line-numbers=\"4,5\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season,\n        group = day_night)\n  ) +\n  geom_point(\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-aes-global-grouped-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Global Aesthetics\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-smooth-aes-global-grouped-overwrite_9d909965d4d23848152353349d5d6d32'}\n\n```{.r .cell-code  code-line-numbers=\"4,12\"}\nggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season,\n        group = day_night)\n  ) +\n  geom_point(\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\",\n    color = \"black\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-smooth-aes-global-grouped-overwrite-1.png){width=1500}\n:::\n:::\n\n\n\n\n# Statistical Layers\n\n\n## \\`stat_\\*()\\` and \\`geom_\\*()\\`\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/stat-geom_73e9f7efe0bd8ee187d618e3a6f946f2'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = temp_feel, y = count)) +\n  stat_smooth(geom = \"smooth\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-geom-1.png){width=1500}\n:::\n:::\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-stat_90de7dc4190d5497ddb9a8852582f819'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = temp_feel, y = count)) +\n  geom_smooth(stat = \"smooth\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-stat-1.png){width=1500}\n:::\n:::\n\n:::\n\n\n## \\`stat_\\*()\\` and \\`geom_\\*()\\`\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/stat-geom-2_817eb6560590196d38978d8477a8183b'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = season)) +\n  stat_count(geom = \"bar\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-geom-2-1.png){width=1500}\n:::\n:::\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-stat-2_3fb5421702e3972d451025b5317874fd'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = season)) +\n  geom_bar(stat = \"count\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-stat-2-1.png){width=1500}\n:::\n:::\n\n:::\n\n\n## \\`stat_\\*()\\` and \\`geom_\\*()\\`\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/stat-geom-3_597c9718cd490e2cf71ead418cfb2b9e'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = date, y = temp_feel)) +\n  stat_identity(geom = \"point\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-geom-3-1.png){width=1500}\n:::\n:::\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/geom-stat-3_32ba84bc67092e73ecb87a81d7a5e7a1'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(bikes, aes(x = date, y = temp_feel)) +\n  geom_point(stat = \"identity\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-stat-3-1.png){width=1500}\n:::\n:::\n\n:::\n\n## Statistical Summaries\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/stat-summary_b7f24ae04b9a181742aa348c80206b9f'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(\n    bikes, \n    aes(x = season, y = temp_feel)\n  ) +\n  stat_summary() \n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-summary-1.png){width=1500}\n:::\n:::\n\n\n\n## Statistical Summaries\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/stat-summary-defaults_5e752c462c68fd42cdea9b66f5659d96'}\n\n```{.r .cell-code  code-line-numbers=\"6,7\"}\nggplot(\n    bikes, \n    aes(x = season, y = temp_feel)\n  ) +\n  stat_summary(\n    fun = mean_se, ## the default\n    geom = \"pointrange\"  ## the default\n  ) \n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-summary-defaults-1.png){width=1500}\n:::\n:::\n\n\n\n## Statistical Summaries\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/stat-summary-median_ba1aa8108e91f88df6cc5e3aed618c6f'}\n\n```{.r .cell-code  code-line-numbers=\"6,7,8,9,10,11|7,8\"}\nggplot(\n    bikes, \n    aes(x = season, y = temp_feel)\n  ) +\n  geom_boxplot() +\n  stat_summary(\n    fun = mean,\n    geom = \"point\",\n    color = \"#28a87d\",\n    size = 3\n  ) \n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-summary-median-1.png){width=1500}\n:::\n:::\n\n\n\n## Statistical Summaries\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/stat-summary-custom_7e23305d45aa73883fb5433e8f1c75ef'}\n\n```{.r .cell-code  code-line-numbers=\"5,6,7,8,9|7,8\"}\nggplot(\n    bikes, \n    aes(x = season, y = temp_feel)\n  ) +\n  stat_summary(\n    fun = mean, \n    fun.max = function(y) mean(y) + sd(y), \n    fun.min = function(y) mean(y) - sd(y) \n  ) \n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/stat-summary-custom-1.png){width=1500}\n:::\n:::\n\n\n\n\n# Extending a ggplot\n\n## Store a ggplot as Object\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-object_64584976e5e7de04828ed9067c84991f'}\n\n```{.r .cell-code  code-line-numbers=\"1,16\"}\ng <-\n  ggplot(\n    bikes,\n    aes(x = temp_feel, y = count,\n        color = season,\n        group = day_night)\n  ) +\n  geom_point(\n    alpha = .5\n  ) +\n  geom_smooth(\n    method = \"lm\",\n    color = \"black\"\n  )\n\nclass(g)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"gg\"     \"ggplot\"\n```\n:::\n:::\n\n\n## Inspect a ggplot Object\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-object-data_d59f14cdb4f90b5cf9e7ead0fb5a2c01'}\n\n```{.r .cell-code}\ng$data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,454 x 14\n   date       day_night year  month season count is_workday is_weekend\n   <date>     <chr>     <fct> <fct> <fct>  <int> <lgl>      <lgl>     \n 1 2015-01-04 day       2015  1     winter  6830 FALSE      TRUE      \n 2 2015-01-04 night     2015  1     winter  2404 FALSE      TRUE      \n 3 2015-01-05 day       2015  1     winter 14763 TRUE       FALSE     \n 4 2015-01-05 night     2015  1     winter  5609 TRUE       FALSE     \n 5 2015-01-06 day       2015  1     winter 14501 TRUE       FALSE     \n 6 2015-01-06 night     2015  1     winter  6112 TRUE       FALSE     \n 7 2015-01-07 day       2015  1     winter 16358 TRUE       FALSE     \n 8 2015-01-07 night     2015  1     winter  4706 TRUE       FALSE     \n 9 2015-01-08 day       2015  1     winter  9971 TRUE       FALSE     \n10 2015-01-08 night     2015  1     winter  5630 TRUE       FALSE     \n# ... with 1,444 more rows, and 6 more variables: is_holiday <lgl>, temp <dbl>,\n#   temp_feel <dbl>, humidity <dbl>, wind_speed <dbl>, weather_type <chr>\n```\n:::\n:::\n\n\n## Inspect a ggplot Object\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-object-mapping_af7debd7d8c9f2fc1bd52481622937af'}\n\n```{.r .cell-code}\ng$mapping\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAesthetic mapping: \n* `x`      -> `temp_feel`\n* `y`      -> `count`\n* `colour` -> `season`\n* `group`  -> `day_night`\n```\n:::\n:::\n\n\n## Extend a ggplot Object: Add Layers\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-object-extend-geom_3794fe3203743cc7508dea942675dc75'}\n\n```{.r .cell-code}\ng +\n  geom_rug(\n    alpha = .2\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-object-extend-geom-1.png){width=1500}\n:::\n:::\n\n\n## Remove a Layer from the Legend\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/geom-guide-none_02f4192502fb110d429b518ed6e44777'}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\ng +\n  geom_rug(\n    alpha = .2,\n    show.legend = FALSE\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/geom-guide-none-1.png){width=1500}\n:::\n:::\n\n\n## Extend a ggplot Object: Add Labels\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-labs-individual_9ecf583a6bbaa5887dcde64ad81c997d'}\n\n```{.r .cell-code  code-line-numbers=\"2,3,4\"}\ng +\n  xlab(\"Feels-like temperature (°F)\") +\n  ylab(\"Reported bike shares\") +\n  ggtitle(\"TfL bike sharing trends\")\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-individual-1.png){width=1500}\n:::\n:::\n\n\n## Extend a ggplot Object: Add Labels\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-labs-bundled_ed6a66d8d6aa14f29ac5eaf6a3e22b3f'}\n\n```{.r .cell-code  code-line-numbers=\"2,3,4,5,6\"}\ng +\n  labs(\n    x = \"Feels-like temperature (°F)\",\n    y = \"Reported bike shares\",\n    title = \"TfL bike sharing trends\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-bundled-1.png){width=1500}\n:::\n:::\n\n\n## Extend a ggplot Object: Add Labels\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-labs-bundled-color_12944cdd8e5e2885e284ea06abc2a5e6'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\ng <- g +\n  labs(\n    x = \"Feels-like temperature (°F)\",\n    y = \"Reported bike shares\",\n    title = \"TfL bike sharing trends\",\n    color = \"Season:\"\n  )\n\ng\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-bundled-color-1.png){width=1500}\n:::\n:::\n\n\n## Extend a ggplot Object: Add Labels\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-labs-bundled-extended_a6976119b4f7c835fc7c9abf623cad7c'}\n\n```{.r .cell-code  code-line-numbers=\"6,7,9\"}\ng +\n  labs(\n    x = \"Feels-like temperature (°F)\",\n    y = \"Reported bike shares\",\n    title = \"TfL bike sharing trends\",\n    subtitle = \"Reported bike rents versus feels-like temperature in London\",\n    caption = \"Data: TfL\",\n    color = \"Season:\",\n    tag = \"Fig. 1\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-bundled-extended-1.png){width=1500}\n:::\n:::\n\n\n## Extend a ggplot Object: Add Labels\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-labs-empty-vs-null-A_a9d4d9b61e4fa1fddfebc6057921e402'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\ng +\n  labs(\n    x = \"\",\n    caption = \"Data: TfL\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-empty-vs-null-A-1.png){width=1500}\n:::\n:::\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-labs-empty-vs-null-B_3569c89fc70e339422d477b526ee529b'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\ng +\n  labs(\n    x = NULL,\n    caption = \"Data: TfL\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-labs-empty-vs-null-B-1.png){width=1500}\n:::\n:::\n\n:::\n\n# A Polished ggplot Example\n\n## Extend a ggplot Object: Themes\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-object-extend-theme-light_8332d57526d153d2bdb80477becdf57d'}\n\n```{.r .cell-code}\ng + theme_light()\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-object-extend-theme-light-1.png){width=1500}\n:::\n:::\n\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-object-extend-theme-minimal_392453f1c41666b02e4aa66474380351'}\n\n```{.r .cell-code}\ng + theme_minimal()\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-object-extend-theme-minimal-1.png){width=1500}\n:::\n:::\n\n:::\n:::\n\n## Change the Theme Base Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-extend-theme-base_80922b7de2cc35376a02f02954dc5492'}\n\n```{.r .cell-code  code-line-numbers=\"2,3|1,2,3,4\"}\ng + theme_light(\n  base_size = 14,\n  base_family = \"Roboto Condensed\"\n)\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-extend-theme-base-1.png){width=1500}\n:::\n:::\n\n\n## Set a Theme Globally\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-global_ccf0cc184587a47e9e2d2396c6587b1c'}\n\n```{.r .cell-code}\ntheme_set(theme_light())\n\ng\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-global-1.png){width=1500}\n:::\n:::\n\n\n## Change the Theme Base Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-global-base_064a3d6720da7c238ca44c84fc791b2f'}\n\n```{.r .cell-code  code-line-numbers=\"2,3|1,2,3,4\"}\ntheme_set(theme_light(\n  base_size = 14,\n  base_family = \"Roboto Condensed\"\n))\n\ng\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-global-base-1.png){width=1500}\n:::\n:::\n\n\n## {systemfonts}\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/systemfonts_56039a601ed6b605604744331d4c1908'}\n\n```{.r .cell-code  code-line-numbers=\"5,6,7,8\"}\n# install.packages(\"systemfonts\")\n\nlibrary(systemfonts)\n\nsystem_fonts() %>%\n  filter(str_detect(family, \"Cabinet\")) %>%\n  pull(name) %>%\n  sort()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"CabinetGrotesk-Black\"      \"CabinetGrotesk-Black\"     \n [3] \"CabinetGrotesk-Bold\"       \"CabinetGrotesk-Bold\"      \n [5] \"CabinetGrotesk-Extrabold\"  \"CabinetGrotesk-Extrabold\" \n [7] \"CabinetGrotesk-Extralight\" \"CabinetGrotesk-Extralight\"\n [9] \"CabinetGrotesk-Light\"      \"CabinetGrotesk-Light\"     \n[11] \"CabinetGrotesk-Medium\"     \"CabinetGrotesk-Medium\"    \n[13] \"CabinetGrotesk-Regular\"    \"CabinetGrotesk-Regular\"   \n[15] \"CabinetGrotesk-Thin\"       \"CabinetGrotesk-Thin\"      \n```\n:::\n:::\n\n\n## {systemfonts}\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/systemfonts-register_98a3bf548ad554515c113f6c54e1f030'}\n\n```{.r .cell-code}\n# install.packages(\"systemfonts\")\nregister_variant(\n  name = \"Cabinet Grotesk Black\",\n  family = \"Cabinet Grotesk\",\n  weight = \"heavy\",\n  features = font_feature(letters = \"stylistic\")\n)\n```\n:::\n\n\n## {systemfonts} + {ggplot2}\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/systemfonts-register-plot_e8c2aafc98225d9f2eaaddd9dcbf67f8'}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\ng +\n  theme_light(\n    base_size = 18,\n    base_family = \"Cabinet Grotesk Black\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/systemfonts-register-plot-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Specific Theme Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-settings-individual-1_99756756fd59ec1aed6444cb54e7bb6a'}\n\n```{.r .cell-code  code-line-numbers=\"2|3\"}\ng +\n  theme(\n    panel.grid.minor = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-settings-individual-1-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Specific Theme Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-settings-individual-2_a6cd815f0f8bcb29d72c1cde21db77ab'}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\ng +\n  theme(\n    panel.grid.minor = element_blank(),\n    plot.title = element_text(face = \"bold\")\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-settings-individual-2-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Specific Theme Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-settings-individual-3_685f0cefc603e31c700d62f329fac9c0'}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\ng +\n  theme(\n    panel.grid.minor = element_blank(),\n    plot.title = element_text(face = \"bold\"),\n    legend.position = \"top\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-settings-individual-3-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Specific Theme Settings\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-settings-individual-4_2a7d4249d6863759b1abbe4ce9798fa3'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\ng +\n  theme(\n    panel.grid.minor = element_blank(),\n    plot.title = element_text(face = \"bold\"),\n    legend.position = \"top\",\n    plot.title.position = \"plot\"\n  )\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-settings-individual-4-1.png){width=1500}\n:::\n:::\n\n\n## Overwrite Theme Settings Globally\n\n\n::: {.cell output-location='column' hash='02_concepts_pt1_cache/revealjs/ggplot-theme-settings-global_840216dfced452d852e575b23f118531'}\n\n```{.r .cell-code  code-line-numbers=\"1|2,3,4,5|1,2,3,4,5,6\"}\ntheme_update(\n  panel.grid.minor = element_blank(),\n  plot.title = element_text(face = \"bold\"),\n  legend.position = \"top\",\n  plot.title.position = \"plot\"\n)\n\ng\n```\n\n::: {.cell-output-display}\n![](02_concepts_pt1_files/figure-revealjs/ggplot-theme-settings-global-1.png){width=1500}\n:::\n:::\n\n\n## Save the Graphic\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-save_39d04f9826b4aa1526d0acbe672fb3ef'}\n\n```{.r .cell-code}\nggsave(g, filename = \"my_plot.png\")\n```\n:::\n\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-save-implicit_c9387d06a8d4ef157e4e304b3646cfe4'}\n\n```{.r .cell-code}\nggsave(\"my_plot.png\")\n```\n:::\n\n:::\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-save-aspect_9a28d3acef743ed3bf88814b01fdb51f'}\n\n```{.r .cell-code}\nggsave(\"my_plot.png\", width = 8, height = 5, dpi = 600)\n```\n:::\n\n:::\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-save-vector_404f98689e351a38197e90e568db86f5'}\n\n```{.r .cell-code}\nggsave(\"my_plot.pdf\", width = 20, height = 12, unit = \"cm\", device = cairo_pdf)\n```\n:::\n\n:::\n\n::: fragment\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/ggplot-save-cairo_pdf_023836a19a6a4418d3f6154954c2e25c'}\n\n```{.r .cell-code}\ngrDevices::cairo_pdf(\"my_plot.pdf\", width = 10, height = 7)\ng\ndev.off()\n```\n:::\n\n:::\n\n------------------------------------------------------------------------\n\n<br>\n\n![Modified from canva.com](img/concepts/vector-raster-canva.png){fig-alt=\"A comparison of vector and raster graphics.\" fig-width=\"150%\"}\n\n## How to Work with Aspect Ratios\n\n::: incremental\n-   don't rely on the Rstudio viewer pane!\n-   once you have a \"it's getting close\" prototype, settle on a plot size<br><br>\n-   **Approach 1:** save the file to disk and inspect it; go back to your IDE\n    -   tedious and time-consuming...<br><br>\n-   **Approach 2:** use a qmd or rmd with inline output and chunk settings\n    -   set `fig.width` and `fig.height` per chunk or globally<br><br>\n-   **Approach 3:** use our [{camcorder} package](https://github.com/thebioengineer/camcorder)\n    -   saves output from all `ggplot()` calls and displays it in the viewer pane\n:::\n\n## Setting Plot Sizes in Rmd's\n\n![](img/concepts/plot-size-rmarkdown-example.png){fig-alt=\"A screenshot of an exemplary Rmd file with two chunks with different settings of fig.width and fig.height.\" fig-width=\"60%\"}\n\n## Setting Plot Sizes via {camcorder}\n\n<br>\n\n![](img/concepts/plot-size-camcorder-example.png){fig-alt=\"A screenshot of an exemplary R script with a plot automatically saved and isplayed in correct aspect ratio thanks to the camcorder package.\" fig-width=\"120%\"}\n\n## <b style='color:#663399;'>Recap</b>\n\n::: recap\n::: incremental\n-   `{ggplot2}` is a powerful library for reproducible graphic design\n-   the components follow a consistent syntax\n-   each ggplot needs at least **data**, some **aesthetics**, and a **layer**\n-   we **set** constant propeties outside `aes()`\n-   ... and **map** data-related properties inside `aes()`\n-   local settings and mappings override global properties\n-   grouping allows applying layers for subsets\n-   we can store a ggplot object and extend it afterwards\n-   we can change the appearance for all plots with `theme_set()` and `theme_update()`\n:::\n:::\n\n# Exercises\n\n## Exercise 1\n\n::: question\n-   Open the script `exercises/02_concepts_pt1_ex1.qmd`.\n-   Explore the TfL bike share data visually:<br>**create a timeseries of reported bike shares on weekend days**\n    -   Highlight day and night encoded by colors and shapes.\n    -   Connect the points of each period with lines.\n        -   What is the difference between `geom_line()` and `geom_path()`?\n    -   Apply your favorite theme to the plot.\n    -   Add meaningful labels.\n-   Save the plot as a vector graphic with a decent plot size.\n:::\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/countdown-ex1_32a186491cd09e2cce9588d41421b714'}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_62f3aa06\" style=\"right:0;bottom:0;font-size:.5em;\" data-warnwhen=\"0\">\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n##  {background-image=\"img/exercises/exercise-what-now.png\" background-position=\"center\" background-size=\"65%\"}\n\n## Exercise 2\n\n::: question\n-   Open the script `exercises/02_concepts_pt1_ex2.qmd`.\n-   Explore the TfL bike sharing data visually:<br>**create a boxplot of counts per weather type**\n    -   Turn the plot into a jitter strips plot (random noise across the x axis)\n    -   Combine both chart types (jittered points on top of the boxplots)\n    -   [Bonus: Sort the boxplot-jitter hybrid by median counts]{style=\"color:#5DB699;\"}\n    -   Apply your favorite theme to the plot.\n    -   Add meaningful labels.\n    -   [Bonus: Explore other chart types to visualize the distributions.]{style=\"color:#5DB699;\"}\n-   Save the plot as a vector graphic with a decent plot size.\n:::\n\n\n::: {.cell hash='02_concepts_pt1_cache/revealjs/countdown-ex2_103e23ee89a6472e0704dac442431bb7'}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_62f3aa2e\" style=\"right:0;bottom:0;font-size:.5em;\" data-warnwhen=\"0\">\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">25</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n##  {background-image=\"img/exercises/exercise-what-now.png\" background-position=\"center\" background-size=\"65%\"}",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n<link href=\"../site_libs/countdown-0.3.5/countdown.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/countdown-0.3.5/countdown.js\"></script>\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n\r\n      // dispatch for htmlwidgets\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for reveal\r\n    if (window.Reveal) {\r\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\r\n        fireSlideChanged(event.previousSlide, event.currentSlide);\r\n      });\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}